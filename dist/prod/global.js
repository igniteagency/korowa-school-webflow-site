"use strict";(()=>{var a=class{ITEM_SELECTOR='details:not([data-accordion="false"])';ANIMATION_DURATION=.3;CLOSE_OTHER_ACCORDIONS=!0;constructor(){this.init()}init(){let t=document.querySelectorAll(this.ITEM_SELECTOR);t.forEach(e=>{e.openAccordion=()=>{e.open||e.querySelector("summary")?.click()},e.closeAccordion=()=>{e.open&&e.querySelector("summary")?.click()};let o=e.querySelector("summary"),n=e.querySelector("summary + div");!o||!n||o.addEventListener("click",r=>{r.preventDefault(),!e.open?this.openAccordionInternal(e,n,t):this.closeAccordionInternal(e,n)})})}openAccordionInternal(t,e,o){t.open=!0;let n=e.scrollHeight;gsap.fromTo(e,{height:0},{height:n,duration:this.ANIMATION_DURATION,onComplete:()=>{gsap.set(e,{height:"auto"})}}),t.dispatchEvent(new CustomEvent("onAccordionOpen",{detail:{accordion:t}})),this.CLOSE_OTHER_ACCORDIONS&&o.forEach(r=>{r!==t&&r.open&&r.querySelector("summary")?.click()})}closeAccordionInternal(t,e){let o=e.scrollHeight;gsap.fromTo(e,{height:o},{height:0,duration:this.ANIMATION_DURATION,onComplete:()=>{t.open=!1,gsap.set(e,{height:""}),t.dispatchEvent(new CustomEvent("onAccordionClose"))}})}},g=a;var c=class{DATA_ATTR="data-dialog-id";DATA_ATTR_OPEN="data-dialog-open";DATA_ATTR_CLOSE="data-dialog-close";DATA_COMPONENT_SELECTOR=`dialog[${this.DATA_ATTR}]`;constructor(){this.init(),this.handleBackdropClick()}init(){document.querySelectorAll(this.DATA_COMPONENT_SELECTOR).forEach(e=>{let o=e.getAttribute(this.DATA_ATTR);if(!o){console.error("No ID found for dialog component",e);return}let n=document.querySelectorAll(`[${this.DATA_ATTR_OPEN}="${o}"]`),r=e.querySelectorAll(`[${this.DATA_ATTR_CLOSE}="${o}"]`);n.forEach(l=>{l.addEventListener("click",()=>{this.openDialog(e)})}),r.forEach(l=>{l.addEventListener("click",()=>{this.closeDialog(e)})}),e.addEventListener("close",l=>{this.closeDialog(e,!0)})})}openDialog(t){t.showModal();let e=new CustomEvent("dialogOpen",{detail:{dialogId:t.getAttribute(this.DATA_ATTR)}});t.dispatchEvent(e)}closeDialog(t,e=!1){e||t.close();let o=new CustomEvent("dialogClose",{detail:{dialogId:t.getAttribute(this.DATA_ATTR)}});t.dispatchEvent(o)}handleBackdropClick(){document.querySelectorAll("dialog").forEach(e=>{e.addEventListener("click",o=>{let n=o.target;if(!(n instanceof HTMLDialogElement))return;let r=n.getBoundingClientRect();r.top<=o.clientY&&o.clientY<=r.top+r.height&&r.left<=o.clientX&&o.clientX<=r.left+r.width&&o.target===n&&this.closeDialog(n)})})}},h=c;function f(i){if(!i)return i;let t=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,e=i.match(t);if(e)return`https://www.youtube.com/embed/${e[1]}`;let o=/(?:vimeo\.com\/)(\d+)/,n=i.match(o);return n?`https://player.vimeo.com/video/${n[1]}`:i}function E(){document.querySelectorAll('[data-el="mini-video-card"]').forEach(t=>{let e=t?.querySelector("dialog"),o=t?.querySelector("[data-video-src]"),n=o?.querySelector("iframe");if(!e||!o||!n)return;let r=o.getAttribute("data-video-src");if(!r)return;let l=f(r),m=l.includes("youtube.com"),p=l.includes("vimeo.com");window.addEventListener("load",()=>{let s;l.includes("youtube.com")?s=`${l}?enablejsapi=1&controls=0&rel=0&modestbranding=1&showinfo=0&fs=1`:l.includes("vimeo.com")?s=`${l}?api=1&controls=0&byline=0&portrait=0&title=0&background=1`:s=l,n.setAttribute("src",s)}),e.addEventListener("dialogOpen",()=>{m?n.contentWindow?.postMessage('{"event":"command","func":"playVideo","args":""}',"*"):p&&n.contentWindow?.postMessage('{"method":"play"}',"*")}),e.addEventListener("dialogClose",()=>{m?n.contentWindow?.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"):p&&n.contentWindow?.postMessage('{"method":"pause"}',"*")})})}var d=class{dialogEl;DIALOG_ID="nav-menu";MENU_OPEN_IX3_EVENT="onNavMenuOpen";detailsElements;GROUP_LINK_SELECTOR='[data-el="nav-group-link"]';constructor(){this.init()}init(){this.dialogEl=document.querySelector(`dialog[data-dialog-id="${this.DIALOG_ID}"]`),this.detailsElements=document.querySelectorAll('[data-el="nav-group-list"] details'),this.detailsElements.length!==0&&(this.onNavMenuOpen(),this.setupAccordionBehavior(),this.ensureOneIsOpen())}onNavMenuOpen(){this.dialogEl?.addEventListener("dialogOpen",()=>{window.WF_IX.emit(this.MENU_OPEN_IX3_EVENT,{},this.dialogEl)})}setupAccordionBehavior(){this.detailsElements.forEach(t=>{t.addEventListener("toggle",()=>{t.open?(this.closeOthersManually(t),this.emitOpenEvent(t)):(this.resetClosingStyles(t),this.ensureOneIsOpen())})})}closeOthersManually(t){this.detailsElements.forEach(e=>{e!==t&&e.open&&(e.open=!1)})}resetClosingStyles(t){let e=t.querySelectorAll(this.GROUP_LINK_SELECTOR);gsap.set(e,{yPercent:0,opacity:0})}ensureOneIsOpen(){!Array.from(this.detailsElements).some(e=>e.open)&&this.detailsElements.length>0&&(this.detailsElements[0].open=!0)}emitOpenEvent(t){let e=t?.querySelectorAll(this.GROUP_LINK_SELECTOR);gsap.fromTo(e,{opacity:0,yPercent:30},{opacity:1,yPercent:0,duration:.35,ease:"power1.in",stagger:.05})}},v=d;function T(){let i=document.querySelector(".section_navbar");i&&ScrollTrigger.create({start:"top+=50",end:"max",onUpdate:t=>{t.direction===1?i.classList.add("is-hidden"):i.classList.remove("is-hidden")},onToggle:t=>{t.isActive?i.classList.add("is-fill"):i.classList.remove("is-fill")},invalidateOnRefresh:!0})}function A(){let i=document.querySelectorAll('[data-el="current-year"]'),t=new Date().getFullYear().toString();i.forEach(e=>{e.textContent=t})}function L(){window.jQuery?.(document).off("click.wf-scroll")}var S=()=>{document.querySelectorAll('a[data-external="yes"]').forEach(t=>{t.setAttribute("target","_blank")})},y=S;function u(){let i=document.querySelector("main");i&&(i.id="main")}function O(){document.querySelectorAll('[data-el="marquee-list"]').forEach(t=>{let e=t,o=e.cloneNode(!0);e.parentNode?.insertBefore(o,e.nextSibling)})}gsap.registerPlugin(ScrollTrigger);window.Webflow=window.Webflow||[];window.Webflow?.push(()=>{setTimeout(()=>{window.WF_IX=Webflow.require("ix3"),console.debug("Webflow IX3 globalised:",window.WF_IX)},100),A(),u(),y(),w(),D(),I(),M()});function w(){new v,new h}function D(){T(),O(),new g,E(),window.conditionalLoadScript('[data-el="counter"]',"components/counter.js")}function I(){L()}function M(){window.loadScript("https://flackr.github.io/scroll-timeline/dist/scroll-timeline.js")}})();
