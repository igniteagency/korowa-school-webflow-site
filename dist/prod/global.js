"use strict";(()=>{var d=class{ITEM_SELECTOR='details:not([data-accordion="false"], [data-group="tab"])';ANIMATION_DURATION=.3;CLOSE_OTHER_ACCORDIONS=!0;accordionGroups=new Map;constructor(){this.init()}init(){let t=document.querySelectorAll(this.ITEM_SELECTOR);t.forEach(e=>{let n=e.getAttribute("data-group")||"default";this.accordionGroups.has(n)||this.accordionGroups.set(n,[]),this.accordionGroups.get(n)?.push(e)}),t.forEach(e=>{let n=e.querySelector("summary"),i=e.querySelector("summary + div");e.openAccordion=()=>{this.openAccordionInternal(e,i)},e.closeAccordion=()=>{e.open&&e.querySelector("summary")?.click()},!(!n||!i)&&n.addEventListener("click",a=>{a.preventDefault(),e.open?this.closeAccordionInternal(e,i):this.openAccordionInternal(e,i)})})}openAccordionInternal(t,e){t.open=!0;let n=e.scrollHeight;if(gsap.fromTo(e,{height:0},{height:n,duration:this.ANIMATION_DURATION,onComplete:()=>{gsap.set(e,{height:"auto"})}}),t.dispatchEvent(new CustomEvent("onAccordionOpen",{detail:{accordion:t}})),this.CLOSE_OTHER_ACCORDIONS){let i=t.dataset.group||"default";(this.accordionGroups.get(i)||[]).forEach(r=>{r!==t&&r.open&&r.querySelector("summary")?.click()})}}closeAccordionInternal(t,e){let n=e.scrollHeight;gsap.fromTo(e,{height:n},{height:0,duration:this.ANIMATION_DURATION,onComplete:()=>{t.open=!1,gsap.set(e,{height:""}),t.dispatchEvent(new CustomEvent("onAccordionClose"))}})}},A=d;var p=class{DATA_ATTR="data-dialog-id";DATA_ATTR_OPEN="data-dialog-open";DATA_ATTR_CLOSE="data-dialog-close";DATA_COMPONENT_SELECTOR=`dialog[${this.DATA_ATTR}]`;initializedIds=new Set;constructor(){this.init(),this.handleBackdropClick()}init(){document.querySelectorAll(this.DATA_COMPONENT_SELECTOR).forEach(e=>{let n=e.getAttribute(this.DATA_ATTR);if(!n){console.error("No ID found for dialog component",e);return}if(this.initializedIds.has(n)){console.warn(`Duplicate dialog ID "${n}" found. Skipping initialization.`,e);return}this.initializedIds.add(n);let i=document.querySelectorAll(`[${this.DATA_ATTR_OPEN}="${n}"]`),a=e.querySelectorAll(`[${this.DATA_ATTR_CLOSE}="${n}"]`);i.forEach(r=>{r.addEventListener("click",()=>{this.openDialog(e)})}),a.forEach(r=>{r.addEventListener("click",s=>{s.stopPropagation(),this.closeDialog(e)})}),e.addEventListener("close",r=>{this.closeDialog(e,!0)})})}openDialog(t){t.showModal();let e=new CustomEvent("dialogOpen",{detail:{dialogId:t.getAttribute(this.DATA_ATTR)}});t.dispatchEvent(e)}closeDialog(t,e=!1){e||t.close();let n=new CustomEvent("dialogClose",{detail:{dialogId:t.getAttribute(this.DATA_ATTR)}});t.dispatchEvent(n)}handleBackdropClick(){document.querySelectorAll("dialog").forEach(e=>{e.addEventListener("click",n=>{let i=n.target;if(!(i instanceof HTMLDialogElement))return;let a=i.getBoundingClientRect();a.top<=n.clientY&&n.clientY<=a.top+a.height&&a.left<=n.clientX&&n.clientX<=a.left+a.width&&n.target===i&&this.closeDialog(i)})})}},T=p;function L(){let o="data-page-group",t="data-page-group-type",e="data-page-group-parent",n="data-page-group-parent-link",i=[];document.querySelectorAll(`[${o}]`).forEach(l=>{let w=l.getAttribute(o),C=l.getAttribute(t),h=l.getAttribute(e),N=l.getAttribute(n);C!=="Sub-Group"||h===""||i.push({name:w,parentName:h,parentLink:N})}),window.IS_DEBUG_MODE&&console.debug("[DYNAMIC BREADCRUMB]",{pageSubGroupList:i});let r='[data-breadcrumb="group-parent"]',s="data-breadcrumb-sub-group-name",M="[data-breadcrumb-parent-name]",c=document.querySelector(r);if(!c||window.getComputedStyle(c).display==="none")return;let f=c.getAttribute(s),u=i.find(l=>l.name===f);if(!u){console.error("[Dynamic Breadcrumbs] Parent name not found for sub-group:",f);return}c.setAttribute("href",u.parentLink);let E=c.querySelector(M);E&&(E.textContent=u.parentName)}var m=class{dialogEl;DIALOG_ID="nav-menu";MENU_OPEN_IX3_EVENT="onNavMenuOpen";detailsElements;GROUP_LINK_SELECTOR='[data-el="nav-group-link"]';constructor(){this.init()}init(){this.dialogEl=document.querySelector(`dialog[data-dialog-id="${this.DIALOG_ID}"]`),this.detailsElements=document.querySelectorAll('[data-el="nav-group-list"] details'),this.detailsElements.length!==0&&(this.onNavMenuOpen(),this.setupAccordionBehavior(),this.ensureOneIsOpen())}onNavMenuOpen(){this.dialogEl?.addEventListener("dialogOpen",()=>{window.WF_IX.emit(this.MENU_OPEN_IX3_EVENT,{},this.dialogEl)})}setupAccordionBehavior(){this.detailsElements.forEach(t=>{t.addEventListener("toggle",()=>{t.open?(this.closeOthersManually(t),this.emitOpenEvent(t)):(this.resetClosingStyles(t),this.ensureOneIsOpen())})})}closeOthersManually(t){this.detailsElements.forEach(e=>{e!==t&&e.open&&(e.open=!1)})}resetClosingStyles(t){let e=t.querySelectorAll(this.GROUP_LINK_SELECTOR);gsap.set(e,{yPercent:0,opacity:0})}ensureOneIsOpen(){!Array.from(this.detailsElements).some(e=>e.open)&&this.detailsElements.length>0&&(this.detailsElements[0].open=!0)}emitOpenEvent(t){let e=t?.querySelectorAll(this.GROUP_LINK_SELECTOR);gsap.fromTo(e,{opacity:0,yPercent:30},{opacity:1,yPercent:0,duration:.35,ease:"power1.in",stagger:.05})}},S=m;function v(){let o=document.querySelector(".section_navbar");o&&ScrollTrigger.create({start:"top+=50",end:"max",onUpdate:t=>{t.direction===1?o.classList.add("is-hidden"):o.classList.remove("is-hidden")},onToggle:t=>{t.isActive?o.classList.add("is-fill"):o.classList.remove("is-fill")},invalidateOnRefresh:!0})}function R(){document.querySelectorAll("[data-video-lightbox-trigger]").forEach(t=>{let e=t.querySelector('script.w-json[type="application/json"]');if(!e)return console.warn("Lightbox JSON script not found");let n=JSON.parse(e.textContent||"{}");if(n.items){for(let i of n.items)for(let a in i){if(!["url","html"].includes(a))continue;let r=i[a];typeof r=="string"&&(/(https?:)?\/\//.test(r)&&!r.includes("autoplay=")&&(r+=(r.includes("?")?"&":"?")+"autoplay=1"),r=r.replace(/(<iframe[^>]+src="[^"]+)/g,s=>s.includes("autoplay=")?s:s+(s.includes("?")?"&":"?")+"autoplay=1"),i[a]=r)}e.textContent=JSON.stringify(n)}})}function O(){R()}function y(){let o=document.querySelectorAll('[data-el="current-year"]'),t=new Date().getFullYear().toString();o.forEach(e=>{e.textContent=t})}function _(){window.jQuery?.(document).off("click.wf-scroll")}var x=()=>{document.querySelectorAll('a[data-external="yes"]').forEach(t=>{t.setAttribute("target","_blank")})},I=x;function g(){let o=document.querySelector("main");o&&(o.id="main")}function b(){document.querySelectorAll('[data-el="marquee-list"]').forEach(t=>{let e=t,n=e.cloneNode(!0);e.parentNode?.insertBefore(n,e.nextSibling)})}function q(){let o=navigator.userAgent,t=navigator.vendor;return t&&t.includes("Apple")&&o.includes("Safari")&&!o.includes("Chrome")&&!o.includes("CriOS")&&!o.includes("FxiOS")&&!o.includes("Edg")}function D(){q()&&document.documentElement.classList.add("safari-browser")}window.Webflow=window.Webflow||[];window.Webflow?.push(()=>{setTimeout(()=>{window.WF_IX=Webflow.require("ix3"),console.debug("Webflow IX3 globalised:",window.WF_IX)},100),y(),g(),I(),k(),H(),P(),G(),B(),U()});function k(){L()}function H(){new S,new T}function P(){v(),b(),new A,O(),window.conditionalLoadScript('[data-el="counter"]',"components/counter.js")}function G(){_()}function B(){D()}function U(){window.loadScript("https://flackr.github.io/scroll-timeline/dist/scroll-timeline.js")}})();
