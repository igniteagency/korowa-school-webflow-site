"use strict";(()=>{var p=class{ITEM_SELECTOR='details:not([data-accordion="false"])';ANIMATION_DURATION=.3;CLOSE_OTHER_ACCORDIONS=!0;constructor(){this.init()}init(){let t=document.querySelectorAll(this.ITEM_SELECTOR);t.forEach(e=>{e.openAccordion=()=>{e.open||e.querySelector("summary")?.click()},e.closeAccordion=()=>{e.open&&e.querySelector("summary")?.click()};let n=e.querySelector("summary"),i=e.querySelector("summary + div");!n||!i||n.addEventListener("click",r=>{r.preventDefault(),!e.open?this.openAccordionInternal(e,i,t):this.closeAccordionInternal(e,i)})})}openAccordionInternal(t,e,n){t.open=!0;let i=e.scrollHeight;gsap.fromTo(e,{height:0},{height:i,duration:this.ANIMATION_DURATION,onComplete:()=>{gsap.set(e,{height:"auto"})}}),t.dispatchEvent(new CustomEvent("onAccordionOpen",{detail:{accordion:t}})),this.CLOSE_OTHER_ACCORDIONS&&n.forEach(r=>{r!==t&&r.open&&r.querySelector("summary")?.click()})}closeAccordionInternal(t,e){let n=e.scrollHeight;gsap.fromTo(e,{height:n},{height:0,duration:this.ANIMATION_DURATION,onComplete:()=>{t.open=!1,gsap.set(e,{height:""}),t.dispatchEvent(new CustomEvent("onAccordionClose"))}})}},S=p;var m=class{DATA_ATTR="data-dialog-id";DATA_ATTR_OPEN="data-dialog-open";DATA_ATTR_CLOSE="data-dialog-close";DATA_COMPONENT_SELECTOR=`dialog[${this.DATA_ATTR}]`;constructor(){this.init(),this.handleBackdropClick()}init(){document.querySelectorAll(this.DATA_COMPONENT_SELECTOR).forEach(e=>{let n=e.getAttribute(this.DATA_ATTR);if(!n){console.error("No ID found for dialog component",e);return}let i=document.querySelectorAll(`[${this.DATA_ATTR_OPEN}="${n}"]`),r=e.querySelectorAll(`[${this.DATA_ATTR_CLOSE}="${n}"]`);i.forEach(a=>{a.addEventListener("click",()=>{this.openDialog(e)})}),r.forEach(a=>{a.addEventListener("click",()=>{this.closeDialog(e)})}),e.addEventListener("close",a=>{this.closeDialog(e,!0)})})}openDialog(t){t.showModal();let e=new CustomEvent("dialogOpen",{detail:{dialogId:t.getAttribute(this.DATA_ATTR)}});t.dispatchEvent(e)}closeDialog(t,e=!1){e||t.close();let n=new CustomEvent("dialogClose",{detail:{dialogId:t.getAttribute(this.DATA_ATTR)}});t.dispatchEvent(n)}handleBackdropClick(){document.querySelectorAll("dialog").forEach(e=>{e.addEventListener("click",n=>{let i=n.target;if(!(i instanceof HTMLDialogElement))return;let r=i.getBoundingClientRect();r.top<=n.clientY&&n.clientY<=r.top+r.height&&r.left<=n.clientX&&n.clientX<=r.left+r.width&&n.target===i&&this.closeDialog(i)})})}},O=m;function v(){let o="data-page-group",t="data-page-group-type",e="data-page-group-parent",n="data-page-group-parent-link",i=[];document.querySelectorAll(`[${o}]`).forEach(l=>{let T=l.getAttribute(o),A=l.getAttribute(t),d=l.getAttribute(e),L=l.getAttribute(n);console.debug({itemName:T,itemType:A,parentName:d,parentLink:L}),!(A!=="Sub-Group"||d==="")&&i.push({name:T,parentName:d,parentLink:L})}),console.debug({pageSubGroupList:i});let a='[data-breadcrumb="group-parent"]',s="data-breadcrumb-sub-group-name",w="[data-breadcrumb-parent-name]",c=document.querySelector(a);if(!c||window.getComputedStyle(c).display==="none")return;let E=c.getAttribute(s),u=i.find(l=>l.name===E);if(!u){console.error("[Dynamic Breadcrumbs] Parent name not found for sub-group:",E);return}c.setAttribute("href",u.parentLink);let h=c.querySelector(w);h&&(h.textContent=u.parentName)}var g=class{dialogEl;DIALOG_ID="nav-menu";MENU_OPEN_IX3_EVENT="onNavMenuOpen";detailsElements;GROUP_LINK_SELECTOR='[data-el="nav-group-link"]';constructor(){this.init()}init(){this.dialogEl=document.querySelector(`dialog[data-dialog-id="${this.DIALOG_ID}"]`),this.detailsElements=document.querySelectorAll('[data-el="nav-group-list"] details'),this.detailsElements.length!==0&&(this.onNavMenuOpen(),this.setupAccordionBehavior(),this.ensureOneIsOpen())}onNavMenuOpen(){this.dialogEl?.addEventListener("dialogOpen",()=>{window.WF_IX.emit(this.MENU_OPEN_IX3_EVENT,{},this.dialogEl)})}setupAccordionBehavior(){this.detailsElements.forEach(t=>{t.addEventListener("toggle",()=>{t.open?(this.closeOthersManually(t),this.emitOpenEvent(t)):(this.resetClosingStyles(t),this.ensureOneIsOpen())})})}closeOthersManually(t){this.detailsElements.forEach(e=>{e!==t&&e.open&&(e.open=!1)})}resetClosingStyles(t){let e=t.querySelectorAll(this.GROUP_LINK_SELECTOR);gsap.set(e,{yPercent:0,opacity:0})}ensureOneIsOpen(){!Array.from(this.detailsElements).some(e=>e.open)&&this.detailsElements.length>0&&(this.detailsElements[0].open=!0)}emitOpenEvent(t){let e=t?.querySelectorAll(this.GROUP_LINK_SELECTOR);gsap.fromTo(e,{opacity:0,yPercent:30},{opacity:1,yPercent:0,duration:.35,ease:"power1.in",stagger:.05})}},y=g;function _(){let o=document.querySelector(".section_navbar");o&&ScrollTrigger.create({start:"top+=50",end:"max",onUpdate:t=>{t.direction===1?o.classList.add("is-hidden"):o.classList.remove("is-hidden")},onToggle:t=>{t.isActive?o.classList.add("is-fill"):o.classList.remove("is-fill")},invalidateOnRefresh:!0})}function R(){document.querySelectorAll("[data-video-lightbox-trigger]").forEach(t=>{let e=t.querySelector('script.w-json[type="application/json"]');if(!e)return console.warn("Lightbox JSON script not found");let n=JSON.parse(e.textContent||"{}");if(n.items){for(let i of n.items)for(let r in i){if(!["url","html"].includes(r))continue;let a=i[r];typeof a=="string"&&(/(https?:)?\/\//.test(a)&&!a.includes("autoplay=")&&(a+=(a.includes("?")?"&":"?")+"autoplay=1"),a=a.replace(/(<iframe[^>]+src="[^"]+)/g,s=>s.includes("autoplay=")?s:s+(s.includes("?")?"&":"?")+"autoplay=1"),i[r]=a)}e.textContent=JSON.stringify(n)}})}function b(){R()}function D(){let o=document.querySelectorAll('[data-el="current-year"]'),t=new Date().getFullYear().toString();o.forEach(e=>{e.textContent=t})}function I(){window.jQuery?.(document).off("click.wf-scroll")}var q=()=>{document.querySelectorAll('a[data-external="yes"]').forEach(t=>{t.setAttribute("target","_blank")})},C=q;function f(){let o=document.querySelector("main");o&&(o.id="main")}function N(){document.querySelectorAll('[data-el="marquee-list"]').forEach(t=>{let e=t,n=e.cloneNode(!0);e.parentNode?.insertBefore(n,e.nextSibling)})}function x(){let o=navigator.userAgent,t=navigator.vendor;return t&&t.includes("Apple")&&o.includes("Safari")&&!o.includes("Chrome")&&!o.includes("CriOS")&&!o.includes("FxiOS")&&!o.includes("Edg")}function M(){x()&&document.documentElement.classList.add("safari-browser")}gsap.registerPlugin(ScrollTrigger);window.Webflow=window.Webflow||[];window.Webflow?.push(()=>{setTimeout(()=>{window.WF_IX=Webflow.require("ix3"),console.debug("Webflow IX3 globalised:",window.WF_IX)},100),D(),f(),C(),k(),H(),P(),B(),U(),G()});function k(){v()}function H(){new y,new O}function P(){_(),N(),new S,b(),window.conditionalLoadScript('[data-el="counter"]',"components/counter.js")}function B(){I()}function U(){M()}function G(){window.loadScript("https://flackr.github.io/scroll-timeline/dist/scroll-timeline.js")}})();
