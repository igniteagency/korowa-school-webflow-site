"use strict";(()=>{var A='details:not([data-accordion="false"])',u="summary",O="summary + div";function p(){let n=document.querySelectorAll(A);n.forEach(e=>{let t=e.querySelector(u),o=e.querySelector(O);if(!t||!o){console.error("Accordion toggle or content not found",t,o);return}t.addEventListener("click",l=>{if(l.preventDefault(),!e.open){e.open=!0;let r=o.scrollHeight;o.style.height="0px",o.animate([{height:"0px"},{height:`${r}px`}],{duration:300,fill:"forwards"}).onfinish=()=>{o.style.height="auto"},n.forEach(a=>{a!==e&&a.open&&a.querySelector(u)?.click()})}else{let r=o.scrollHeight,a=o.animate([{height:`${r}px`},{height:"0px"}],{duration:300,fill:"forwards"});a.onfinish=()=>{e.open=!1,o.style.height=""}}})})}var s=class{DATA_ATTR="data-dialog-id";DATA_ATTR_OPEN="data-dialog-open";DATA_ATTR_CLOSE="data-dialog-close";DATA_COMPONENT_SELECTOR=`dialog[${this.DATA_ATTR}]`;constructor(){this.init(),this.handleBackdropClick()}init(){document.querySelectorAll(this.DATA_COMPONENT_SELECTOR).forEach(t=>{let o=t.getAttribute(this.DATA_ATTR);if(!o){console.error("No ID found for dialog component",t);return}let l=document.querySelectorAll(`[${this.DATA_ATTR_OPEN}="${o}"]`),i=t.querySelectorAll(`[${this.DATA_ATTR_CLOSE}="${o}"]`);l.forEach(r=>{r.addEventListener("click",()=>{this.openDialog(t)})}),i.forEach(r=>{r.addEventListener("click",()=>{this.closeDialog(t)})})})}openDialog(e){e.showModal();let t=new CustomEvent("dialogOpen",{detail:{dialogId:e.getAttribute(this.DATA_ATTR)}});e.dispatchEvent(t)}closeDialog(e){e.close();let t=new CustomEvent("dialogClose",{detail:{dialogId:e.getAttribute(this.DATA_ATTR)}});e.dispatchEvent(t)}handleBackdropClick(){document.querySelectorAll("dialog").forEach(t=>{t.addEventListener("click",o=>{let l=o.target;if(!(l instanceof HTMLDialogElement))return;let i=l.getBoundingClientRect();i.top<=o.clientY&&o.clientY<=i.top+i.height&&i.left<=o.clientX&&o.clientX<=i.left+i.width&&o.target===l&&this.closeDialog(l)})})}},E=s;var c=class{dialogEl;DIALOG_ID="nav-menu";MENU_OPEN_IX3_EVENT="onNavMenuOpen";detailsElements;GROUP_LINK_SELECTOR='[data-el="nav-group-link"]';constructor(){this.init()}init(){this.dialogEl=document.querySelector(`dialog[data-dialog-id="${this.DIALOG_ID}"]`),this.detailsElements=document.querySelectorAll('[data-el="nav-group-list"] details'),this.detailsElements.length!==0&&(this.onNavMenuOpen(),this.setupAccordionBehavior(),this.ensureOneIsOpen())}onNavMenuOpen(){this.dialogEl?.addEventListener("dialogOpen",()=>{window.WF_IX.emit(this.MENU_OPEN_IX3_EVENT,{},this.dialogEl)})}setupAccordionBehavior(){this.detailsElements.forEach(e=>{e.addEventListener("toggle",()=>{e.open?(this.closeOthersManually(e),this.emitOpenEvent(e)):(this.resetClosingStyles(e),this.ensureOneIsOpen())})})}closeOthersManually(e){this.detailsElements.forEach(t=>{t!==e&&t.open&&(t.open=!1)})}resetClosingStyles(e){let t=e.querySelectorAll(this.GROUP_LINK_SELECTOR);gsap.set(t,{yPercent:0,opacity:0})}ensureOneIsOpen(){!Array.from(this.detailsElements).some(t=>t.open)&&this.detailsElements.length>0&&(this.detailsElements[0].open=!0)}emitOpenEvent(e){let t=e?.querySelectorAll(this.GROUP_LINK_SELECTOR);gsap.fromTo(t,{opacity:0,yPercent:30},{opacity:1,yPercent:0,duration:.35,ease:"power1.in",stagger:.05})}},h=c;function m(){let n=document.querySelectorAll('[data-el="current-year"]'),e=new Date().getFullYear().toString();n.forEach(t=>{t.textContent=e})}function g(){window.jQuery?.(document).off("click.wf-scroll")}var L=()=>{document.querySelectorAll('a[data-external="yes"]').forEach(e=>{e.setAttribute("target","_blank")})},f=L;function d(){let n=document.querySelector("main");n&&(n.id="main")}function T(){document.querySelectorAll('[data-el="marquee-list"]').forEach(e=>{let t=e,o=t.cloneNode(!0);t.parentNode?.insertBefore(o,t.nextSibling)})}gsap.registerPlugin(ScrollTrigger);window.Webflow=window.Webflow||[];window.Webflow?.push(()=>{setTimeout(()=>{window.WF_IX=Webflow.require("ix3"),console.debug("Webflow IX3 globalised:",window.WF_IX)},100),m(),d(),f(),_(),D(),y()});function _(){new h,new E}function D(){T(),p()}function y(){g()}})();
