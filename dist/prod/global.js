"use strict";(()=>{var a=class{ITEM_SELECTOR='details:not([data-accordion="false"])';ANIMATION_DURATION=.3;CLOSE_OTHER_ACCORDIONS=!0;constructor(){this.init()}init(){let t=document.querySelectorAll(this.ITEM_SELECTOR);t.forEach(e=>{e.openAccordion=()=>{e.open||e.querySelector("summary")?.click()},e.closeAccordion=()=>{e.open&&e.querySelector("summary")?.click()};let i=e.querySelector("summary"),n=e.querySelector("summary + div");!i||!n||i.addEventListener("click",r=>{r.preventDefault(),!e.open?this.openAccordionInternal(e,n,t):this.closeAccordionInternal(e,n)})})}openAccordionInternal(t,e,i){t.open=!0;let n=e.scrollHeight;gsap.fromTo(e,{height:0},{height:n,duration:this.ANIMATION_DURATION,onComplete:()=>{gsap.set(e,{height:"auto"})}}),t.dispatchEvent(new CustomEvent("onAccordionOpen",{detail:{accordion:t}})),this.CLOSE_OTHER_ACCORDIONS&&i.forEach(r=>{r!==t&&r.open&&r.querySelector("summary")?.click()})}closeAccordionInternal(t,e){let i=e.scrollHeight;gsap.fromTo(e,{height:i},{height:0,duration:this.ANIMATION_DURATION,onComplete:()=>{t.open=!1,gsap.set(e,{height:""}),t.dispatchEvent(new CustomEvent("onAccordionClose"))}})}},f=a;var c=class{DATA_ATTR="data-dialog-id";DATA_ATTR_OPEN="data-dialog-open";DATA_ATTR_CLOSE="data-dialog-close";DATA_COMPONENT_SELECTOR=`dialog[${this.DATA_ATTR}]`;constructor(){this.init(),this.handleBackdropClick()}init(){document.querySelectorAll(this.DATA_COMPONENT_SELECTOR).forEach(e=>{let i=e.getAttribute(this.DATA_ATTR);if(!i){console.error("No ID found for dialog component",e);return}let n=document.querySelectorAll(`[${this.DATA_ATTR_OPEN}="${i}"]`),r=e.querySelectorAll(`[${this.DATA_ATTR_CLOSE}="${i}"]`);n.forEach(s=>{s.addEventListener("click",()=>{this.openDialog(e)})}),r.forEach(s=>{s.addEventListener("click",()=>{this.closeDialog(e)})}),e.addEventListener("close",s=>{this.closeDialog(e,!0)})})}openDialog(t){t.showModal();let e=new CustomEvent("dialogOpen",{detail:{dialogId:t.getAttribute(this.DATA_ATTR)}});t.dispatchEvent(e)}closeDialog(t,e=!1){e||t.close();let i=new CustomEvent("dialogClose",{detail:{dialogId:t.getAttribute(this.DATA_ATTR)}});t.dispatchEvent(i)}handleBackdropClick(){document.querySelectorAll("dialog").forEach(e=>{e.addEventListener("click",i=>{let n=i.target;if(!(n instanceof HTMLDialogElement))return;let r=n.getBoundingClientRect();r.top<=i.clientY&&i.clientY<=r.top+r.height&&r.left<=i.clientX&&i.clientX<=r.left+r.width&&i.target===n&&this.closeDialog(n)})})}},g=c;function h(o){if(!o)return o;let t=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,e=o.match(t);if(e)return`https://www.youtube.com/embed/${e[1]}`;let i=/(?:vimeo\.com\/)(\d+)/,n=o.match(i);return n?`https://player.vimeo.com/video/${n[1]}`:o}function E(){document.querySelectorAll('[data-el="mini-video-card"]').forEach(t=>{let e=t?.querySelector("dialog"),i=t?.querySelector("[data-video-src]"),n=i?.querySelector("iframe");if(!e||!i||!n)return;let r=i.getAttribute("data-video-src");if(!r)return;let s=h(r),m=s.includes("youtube.com"),p=s.includes("vimeo.com");window.addEventListener("load",()=>{let l;s.includes("youtube.com")?l=`${s}?enablejsapi=1&controls=0&rel=0&modestbranding=1&showinfo=0&fs=1`:s.includes("vimeo.com")?l=`${s}?api=1&controls=0&byline=0&portrait=0&title=0&background=1`:l=s,n.setAttribute("src",l)}),e.addEventListener("dialogOpen",()=>{m?n.contentWindow?.postMessage('{"event":"command","func":"playVideo","args":""}',"*"):p&&n.contentWindow?.postMessage('{"method":"play"}',"*")}),e.addEventListener("dialogClose",()=>{m?n.contentWindow?.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"):p&&n.contentWindow?.postMessage('{"method":"pause"}',"*")})})}var d=class{dialogEl;DIALOG_ID="nav-menu";MENU_OPEN_IX3_EVENT="onNavMenuOpen";detailsElements;GROUP_LINK_SELECTOR='[data-el="nav-group-link"]';constructor(){this.init()}init(){this.dialogEl=document.querySelector(`dialog[data-dialog-id="${this.DIALOG_ID}"]`),this.detailsElements=document.querySelectorAll('[data-el="nav-group-list"] details'),this.detailsElements.length!==0&&(this.onNavMenuOpen(),this.setupAccordionBehavior(),this.ensureOneIsOpen())}onNavMenuOpen(){this.dialogEl?.addEventListener("dialogOpen",()=>{window.WF_IX.emit(this.MENU_OPEN_IX3_EVENT,{},this.dialogEl)})}setupAccordionBehavior(){this.detailsElements.forEach(t=>{t.addEventListener("toggle",()=>{t.open?(this.closeOthersManually(t),this.emitOpenEvent(t)):(this.resetClosingStyles(t),this.ensureOneIsOpen())})})}closeOthersManually(t){this.detailsElements.forEach(e=>{e!==t&&e.open&&(e.open=!1)})}resetClosingStyles(t){let e=t.querySelectorAll(this.GROUP_LINK_SELECTOR);gsap.set(e,{yPercent:0,opacity:0})}ensureOneIsOpen(){!Array.from(this.detailsElements).some(e=>e.open)&&this.detailsElements.length>0&&(this.detailsElements[0].open=!0)}emitOpenEvent(t){let e=t?.querySelectorAll(this.GROUP_LINK_SELECTOR);gsap.fromTo(e,{opacity:0,yPercent:30},{opacity:1,yPercent:0,duration:.35,ease:"power1.in",stagger:.05})}},v=d;function T(){let o=document.querySelector(".section_navbar");o&&ScrollTrigger.create({start:"top+=50",end:"max",onUpdate:t=>{t.direction===1?o.classList.add("is-hidden"):o.classList.remove("is-hidden")},onToggle:t=>{t.isActive?o.classList.add("is-fill"):o.classList.remove("is-fill")},invalidateOnRefresh:!0})}function A(){let o=document.querySelectorAll('[data-el="current-year"]'),t=new Date().getFullYear().toString();o.forEach(e=>{e.textContent=t})}function L(){window.jQuery?.(document).off("click.wf-scroll")}var w=()=>{document.querySelectorAll('a[data-external="yes"]').forEach(t=>{t.setAttribute("target","_blank")})},y=w;function u(){let o=document.querySelector("main");o&&(o.id="main")}function O(){document.querySelectorAll('[data-el="marquee-list"]').forEach(t=>{let e=t,i=e.cloneNode(!0);e.parentNode?.insertBefore(i,e.nextSibling)})}function D(){let o=navigator.userAgent,t=navigator.vendor;return t&&t.includes("Apple")&&o.includes("Safari")&&!o.includes("Chrome")&&!o.includes("CriOS")&&!o.includes("FxiOS")&&!o.includes("Edg")}function S(){D()&&document.documentElement.classList.add("safari-browser")}gsap.registerPlugin(ScrollTrigger);window.Webflow=window.Webflow||[];window.Webflow?.push(()=>{setTimeout(()=>{window.WF_IX=Webflow.require("ix3"),console.debug("Webflow IX3 globalised:",window.WF_IX)},100),A(),u(),y(),b(),I(),M(),_(),C()});function b(){new v,new g}function I(){T(),O(),new f,E(),window.conditionalLoadScript('[data-el="counter"]',"components/counter.js")}function M(){L()}function _(){S()}function C(){window.loadScript("https://flackr.github.io/scroll-timeline/dist/scroll-timeline.js")}})();
