"use strict";(()=>{var S='details:not([data-accordion="false"])',p="summary",_="summary + div";function g(){let i=document.querySelectorAll(S);i.forEach(e=>{let t=e.querySelector(p),o=e.querySelector(_);if(!t||!o){console.error("Accordion toggle or content not found",t,o);return}t.addEventListener("click",n=>{if(n.preventDefault(),!e.open){e.open=!0;let r=o.scrollHeight;o.style.height="0px",o.animate([{height:"0px"},{height:`${r}px`}],{duration:300,fill:"forwards"}).onfinish=()=>{o.style.height="auto"},i.forEach(l=>{l!==e&&l.open&&l.querySelector(p)?.click()})}else{let r=o.scrollHeight,l=o.animate([{height:`${r}px`},{height:"0px"}],{duration:300,fill:"forwards"});l.onfinish=()=>{e.open=!1,o.style.height=""}}})})}var c=class{DATA_ATTR="data-dialog-id";DATA_ATTR_OPEN="data-dialog-open";DATA_ATTR_CLOSE="data-dialog-close";DATA_COMPONENT_SELECTOR=`dialog[${this.DATA_ATTR}]`;constructor(){this.init(),this.handleBackdropClick()}init(){document.querySelectorAll(this.DATA_COMPONENT_SELECTOR).forEach(t=>{let o=t.getAttribute(this.DATA_ATTR);if(!o){console.error("No ID found for dialog component",t);return}let n=document.querySelectorAll(`[${this.DATA_ATTR_OPEN}="${o}"]`),s=t.querySelectorAll(`[${this.DATA_ATTR_CLOSE}="${o}"]`);n.forEach(r=>{r.addEventListener("click",()=>{this.openDialog(t)})}),s.forEach(r=>{r.addEventListener("click",()=>{this.closeDialog(t)})}),t.addEventListener("close",r=>{this.closeDialog(t,!0)})})}openDialog(e){e.showModal();let t=new CustomEvent("dialogOpen",{detail:{dialogId:e.getAttribute(this.DATA_ATTR)}});e.dispatchEvent(t)}closeDialog(e,t=!1){t||e.close();let o=new CustomEvent("dialogClose",{detail:{dialogId:e.getAttribute(this.DATA_ATTR)}});e.dispatchEvent(o)}handleBackdropClick(){document.querySelectorAll("dialog").forEach(t=>{t.addEventListener("click",o=>{let n=o.target;if(!(n instanceof HTMLDialogElement))return;let s=n.getBoundingClientRect();s.top<=o.clientY&&o.clientY<=s.top+s.height&&s.left<=o.clientX&&o.clientX<=s.left+s.width&&o.target===n&&this.closeDialog(n)})})}},f=c;function h(i){if(!i)return i;let e=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,t=i.match(e);if(t)return`https://www.youtube.com/embed/${t[1]}`;let o=/(?:vimeo\.com\/)(\d+)/,n=i.match(o);return n?`https://player.vimeo.com/video/${n[1]}`:i}function E(){document.querySelectorAll('[data-el="mini-video-card"]').forEach(e=>{let t=e?.querySelector("dialog"),o=e?.querySelector("[data-video-src]"),n=o?.querySelector("iframe");if(!t||!o||!n)return;let s=o.getAttribute("data-video-src");if(!s)return;let r=h(s),l=r.includes("youtube.com"),m=r.includes("vimeo.com");window.addEventListener("load",()=>{let a;r.includes("youtube.com")?a=`${r}?enablejsapi=1&controls=0&rel=0&modestbranding=1&showinfo=0&fs=1`:r.includes("vimeo.com")?a=`${r}?api=1&controls=0&byline=0&portrait=0&title=0&background=1`:a=r,n.setAttribute("src",a)}),t.addEventListener("dialogOpen",()=>{l?n.contentWindow?.postMessage('{"event":"command","func":"playVideo","args":""}',"*"):m&&n.contentWindow?.postMessage('{"method":"play"}',"*")}),t.addEventListener("dialogClose",()=>{l?n.contentWindow?.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"):m&&n.contentWindow?.postMessage('{"method":"pause"}',"*")})})}var d=class{dialogEl;DIALOG_ID="nav-menu";MENU_OPEN_IX3_EVENT="onNavMenuOpen";detailsElements;GROUP_LINK_SELECTOR='[data-el="nav-group-link"]';constructor(){this.init()}init(){this.dialogEl=document.querySelector(`dialog[data-dialog-id="${this.DIALOG_ID}"]`),this.detailsElements=document.querySelectorAll('[data-el="nav-group-list"] details'),this.detailsElements.length!==0&&(this.onNavMenuOpen(),this.setupAccordionBehavior(),this.ensureOneIsOpen())}onNavMenuOpen(){this.dialogEl?.addEventListener("dialogOpen",()=>{window.WF_IX.emit(this.MENU_OPEN_IX3_EVENT,{},this.dialogEl)})}setupAccordionBehavior(){this.detailsElements.forEach(e=>{e.addEventListener("toggle",()=>{e.open?(this.closeOthersManually(e),this.emitOpenEvent(e)):(this.resetClosingStyles(e),this.ensureOneIsOpen())})})}closeOthersManually(e){this.detailsElements.forEach(t=>{t!==e&&t.open&&(t.open=!1)})}resetClosingStyles(e){let t=e.querySelectorAll(this.GROUP_LINK_SELECTOR);gsap.set(t,{yPercent:0,opacity:0})}ensureOneIsOpen(){!Array.from(this.detailsElements).some(t=>t.open)&&this.detailsElements.length>0&&(this.detailsElements[0].open=!0)}emitOpenEvent(e){let t=e?.querySelectorAll(this.GROUP_LINK_SELECTOR);gsap.fromTo(t,{opacity:0,yPercent:30},{opacity:1,yPercent:0,duration:.35,ease:"power1.in",stagger:.05})}},T=d;function v(){let i=document.querySelector(".section_navbar");i&&ScrollTrigger.create({start:"top+=50",end:"max",onUpdate:e=>{e.direction===1?i.classList.add("is-hidden"):i.classList.remove("is-hidden")},onToggle:e=>{e.isActive?i.classList.add("is-fill"):i.classList.remove("is-fill")}})}function A(){let i=document.querySelectorAll('[data-el="current-year"]'),e=new Date().getFullYear().toString();i.forEach(t=>{t.textContent=e})}function L(){window.jQuery?.(document).off("click.wf-scroll")}var D=()=>{document.querySelectorAll('a[data-external="yes"]').forEach(e=>{e.setAttribute("target","_blank")})},O=D;function u(){let i=document.querySelector("main");i&&(i.id="main")}function y(){document.querySelectorAll('[data-el="marquee-list"]').forEach(e=>{let t=e,o=t.cloneNode(!0);t.parentNode?.insertBefore(o,t.nextSibling)})}gsap.registerPlugin(ScrollTrigger);window.Webflow=window.Webflow||[];window.Webflow?.push(()=>{setTimeout(()=>{window.WF_IX=Webflow.require("ix3"),console.debug("Webflow IX3 globalised:",window.WF_IX)},100),A(),u(),O(),w(),b(),I()});function w(){new T,new f}function b(){v(),y(),g(),E(),window.conditionalLoadScript('[data-el="counter"]',"components/counter.js")}function I(){L()}})();
