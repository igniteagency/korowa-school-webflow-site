"use strict";(()=>{var c=class{COMPONENT_SELECTOR='[data-timeline-slider-el="component"]';NAV_PREV_BUTTON_SELECTOR='[data-slider-el="nav-prev"]';NAV_NEXT_BUTTON_SELECTOR='[data-slider-el="nav-next"]';CARD_SELECTOR='[data-timeline-slider-el="card"]';swiperComponents;swiper;rafId=null;constructor(){this.swiperComponents=document.querySelectorAll(this.COMPONENT_SELECTOR),this.initSliders()}initSliders(){this.swiperComponents.forEach(async s=>{let t=s.querySelector(".swiper");if(!t){console.error("`.swiper` element not found",s);return}await window.loadCSS("https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.css");let i=s.querySelector(this.NAV_PREV_BUTTON_SELECTOR),a=s.querySelector(this.NAV_NEXT_BUTTON_SELECTOR),l=i&&a?{nextEl:a,prevEl:i,disabledClass:"is-disabled"}:!1,r=t.querySelectorAll(".swiper-slide").length,n=t.querySelector(".swiper-wrapper");if(n){let e=n.innerHTML;r<=5?n.innerHTML=e.repeat(3):r<=8&&(n.innerHTML=e.repeat(2))}let o={slidesPerView:"auto",centeredSlides:!0,spaceBetween:0,loop:r>1,speed:800,grabCursor:!0,navigation:l,slideActiveClass:"is-active",slidePrevClass:"is-previous",slideNextClass:"is-next",watchSlidesProgress:!0,longSwipes:!1,touchRatio:.4,a11y:{enabled:!0},on:{init:e=>{this.updateSlidePositions(e)},transitionStart:e=>{this.startRAF(e)},progress:e=>{this.updateSlidePositions(e)},transitionEnd:e=>{this.stopRAF(),this.updateSlidePositions(e)}}};this.swiper=new Swiper(t,o)})}startRAF(s){this.stopRAF();let t=()=>{this.updateSlidePositions(s),this.rafId=requestAnimationFrame(t)};this.rafId=requestAnimationFrame(t)}stopRAF(){this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null)}updateSlidePositions(s){let{slides:t}=s,i=window.innerWidth*1.75,a=window.innerWidth*.5;t.forEach(l=>{let r=l,n=r.querySelector(this.CARD_SELECTOR);if(!n)return;let o=r.getBoundingClientRect(),d=o.left+o.width*.5-a,p=i*i,u=d*d,w=i-Math.sqrt(p-u),E=Math.asin(d/i)*180/Math.PI;n.style.transform=`translate3d(0, ${w}px, 0) rotate(${E}deg)`})}};window.loadScript("https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.js",{name:"swiper"});document.addEventListener("scriptLoaded:swiper",()=>{new c});})();
