"use strict";(()=>{var i=class{dialogEl;DIALOG_ID="nav-menu";MENU_OPEN_IX3_EVENT="onNavMenuOpen";detailsElements;GROUP_LINK_SELECTOR='[data-el="nav-group-link"]';constructor(){this.init()}init(){this.dialogEl=document.querySelector(`dialog[data-dialog-id="${this.DIALOG_ID}"]`),this.detailsElements=document.querySelectorAll('[data-el="nav-group-list"] details'),this.detailsElements.length!==0&&(this.onNavMenuOpen(),this.setupAccordionBehavior(),this.ensureOneIsOpen())}onNavMenuOpen(){this.dialogEl?.addEventListener("dialogOpen",()=>{window.WF_IX.emit(this.MENU_OPEN_IX3_EVENT,{},this.dialogEl)})}setupAccordionBehavior(){this.detailsElements.forEach(e=>{e.addEventListener("toggle",()=>{e.open?(this.closeOthersManually(e),this.emitOpenEvent(e)):(this.resetClosingStyles(e),this.ensureOneIsOpen())})})}closeOthersManually(e){this.detailsElements.forEach(t=>{t!==e&&t.open&&(t.open=!1)})}resetClosingStyles(e){let t=e.querySelectorAll(this.GROUP_LINK_SELECTOR);gsap.set(t,{yPercent:0,opacity:0})}ensureOneIsOpen(){!Array.from(this.detailsElements).some(t=>t.open)&&this.detailsElements.length>0&&(this.detailsElements[0].open=!0)}emitOpenEvent(e){let t=e?.querySelectorAll(this.GROUP_LINK_SELECTOR);gsap.fromTo(t,{opacity:0,yPercent:30},{opacity:1,yPercent:0,duration:.35,ease:"power1.in",stagger:.05})}},s=i;})();
