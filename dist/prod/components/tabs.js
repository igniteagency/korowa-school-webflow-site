"use strict";(()=>{var s=class{component;tabs;currentTabIndex=0;intervalId=null;autoplayTimer;intersectionObserver;isInView=!1;AUTOPLAY_TIMER_CSS_VAR="--autoplay-timer";OUT_OF_VIEW_CLASS="is-out-of-view";constructor(t){this.component=t,this.tabs=Array.from(t.querySelectorAll("details"));let e=getComputedStyle(t).getPropertyValue(this.AUTOPLAY_TIMER_CSS_VAR).trim();if(e.endsWith("ms")?this.autoplayTimer=parseFloat(e):this.autoplayTimer=parseFloat(e)*1e3,!t||this.tabs.length===0){console.warn("AutoRotatingTabs: No valid component or tabs found.");return}this.init()}init(){this.ensureOneTabOpen(),this.setupEventListeners(),this.setupIntersectionObserver()}ensureOneTabOpen(){let t=this.tabs.findIndex(e=>e.open);t===-1?(this.tabs[0].openAccordion(),this.currentTabIndex=0):(this.tabs.forEach((e,i)=>{i!==t&&e.open&&e.closeAccordion()}),this.currentTabIndex=t)}setupEventListeners(){this.tabs.forEach((t,e)=>{t.addEventListener("toggle",i=>{if(e===this.currentTabIndex){i.preventDefault();return}t.open&&this.handleTabOpen(e)})})}setupIntersectionObserver(){this.intersectionObserver=new IntersectionObserver(t=>{t.forEach(e=>{e.target===this.component&&(this.isInView=e.isIntersecting,this.isInView?this.startAutoRotation():this.pauseAutoRotation())})},{threshold:.1}),this.intersectionObserver.observe(this.component)}handleTabOpen(t){this.tabs.forEach((e,i)=>{i!==t&&e.open&&e.closeAccordion()}),this.currentTabIndex=t,this.startAutoRotation()}startAutoRotation(){this.isInView&&(this.pauseAutoRotation(),this.component.classList.remove(this.OUT_OF_VIEW_CLASS),this.intervalId=window.setInterval(()=>{this.rotateToNext()},this.autoplayTimer))}pauseAutoRotation(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.component.classList.add(this.OUT_OF_VIEW_CLASS)}rotateToNext(){this.tabs[this.currentTabIndex]?.closeAccordion(),this.currentTabIndex=(this.currentTabIndex+1)%this.tabs.length,this.tabs[this.currentTabIndex]?.openAccordion()}destroy(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.intersectionObserver&&this.intersectionObserver.disconnect()}};function r(){document.querySelectorAll('[data-el="tabs-component"]').forEach(t=>{new s(t)})}window.Webflow=window.Webflow||[];window.Webflow?.push(()=>{r()});})();
