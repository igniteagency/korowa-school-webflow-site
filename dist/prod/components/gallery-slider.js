"use strict";(()=>{function Y(i,a){let E;return i=gsap.utils.toArray(i),a=a||{},gsap.context(()=>{let p=a.onChange,l=0,e=gsap.timeline({repeat:a.repeat,onUpdate:p&&function(){let t=e.closestIndex();l!==t&&(l=t,p(i[t],t))},paused:a.paused,defaults:{ease:"none"},onReverseComplete:()=>e.totalTime(e.rawTime()+e.duration()*100)}),s=i.length,d=i[0].offsetLeft,u=[],f=[],T=[],L=[],g=0,G=!1,y=a.center,I=(a.speed||1)*100,N=a.snap===!1?t=>t:gsap.utils.snap(a.snap||1),W=0,O=y===!0?i[0].parentNode:gsap.utils.toArray(y)[0]||i[0].parentNode,S,$=()=>i[s-1].offsetLeft+L[s-1]/100*f[s-1]-d+T[0]+i[s-1].offsetWidth*gsap.getProperty(i[s-1],"scaleX")+(parseFloat(a.paddingRight)||0),q=()=>{let t=O.getBoundingClientRect(),r;i.forEach((o,n)=>{f[n]=parseFloat(gsap.getProperty(o,"width","px")),L[n]=N(parseFloat(gsap.getProperty(o,"x","px"))/f[n]*100+gsap.getProperty(o,"xPercent")),r=o.getBoundingClientRect(),T[n]=r.left-(n?t.right:t.left),t=r}),gsap.set(i,{xPercent:o=>L[o]}),S=$()},C,X=()=>{W=y?e.duration()*(O.offsetWidth/2)/S:0,y&&u.forEach((t,r)=>{u[r]=C(e.labels["label"+r]+e.duration()*f[r]/2/S-W)})},H=(t,r,o)=>{let n=t.length,c=1e10,h=0,m;for(;n--;)m=Math.abs(t[n]-r),m>o/2&&(m=o-m),m<c&&(c=m,h=n);return h},x=()=>{if(!a.curve)return;let t=a.curve.width||O.offsetWidth,r=a.curve.yPercent||0,o=a.curve.rotation||0,n=O.getBoundingClientRect(),c=n.left+n.width/2;i.forEach(h=>{let m=h.getBoundingClientRect(),P=m.left+m.width/2-c,w=Math.max(-1,Math.min(1,P/(t/2)*.6)),_=r*Math.pow(w,2),v=o*w;gsap.set(h,{yPercent:_,rotation:v})})},z=()=>{let t,r,o,n,c;for(e.clear(),t=0;t<s;t++)r=i[t],o=L[t]/100*f[t],n=r.offsetLeft+o-d+T[0],c=n+f[t]*gsap.getProperty(r,"scaleX"),e.to(r,{xPercent:N((o-c)/f[t]*100),duration:c/I},0).fromTo(r,{xPercent:N((o-c+S)/f[t]*100)},{xPercent:L[t],duration:(o-c+S-o)/I,immediateRender:!1},c/I).add("label"+t,n/I),u[t]=n/I;C=gsap.utils.wrap(0,e.duration())},F=t=>{let r=e.progress();e.progress(0,!0),q(),t&&z(),X(),t&&e.draggable&&e.paused()?e.time(u[g],!0):e.progress(r,!0)},U=()=>F(!0),M;gsap.set(i,{x:0}),q(),z(),X(),window.addEventListener("resize",U);let b=!1,V=()=>{a.curve&&!b&&(b=!0,gsap.ticker.add(x))},A=()=>{a.curve&&b&&(b=!1,gsap.ticker.remove(x),x())};a.curve&&(x(),e.eventCallback("onStart",V),e.eventCallback("onComplete",A),e.eventCallback("onInterrupt",A));function D(t,r){r=r||{},Math.abs(t-g)>s/2&&(t+=t>g?-s:s);let o=gsap.utils.wrap(0,s,t),n=u[o];return n>e.time()!=t>g&&t!==g&&(n+=e.duration()*(t>g?1:-1)),(n<0||n>e.duration())&&(r.modifiers={time:C}),g=o,r.overwrite=!0,gsap.killTweensOf(M),r.duration===0?e.time(C(n)):e.tweenTo(n,r)}if(e.toIndex=(t,r)=>D(t,r),e.closestIndex=t=>{let r=H(u,e.time(),e.duration());return t&&(g=r,G=!1),r},e.current=()=>G?e.closestIndex(!0):g,e.next=t=>D(e.current()+1,t),e.previous=t=>D(e.current()-1,t),e.times=u,e.progress(1,!0).progress(0,!0),a.reversed&&(e.vars.onReverseComplete(),e.reverse()),a.draggable&&typeof Draggable=="function"){M=document.createElement("div");let t=gsap.utils.wrap(0,1),r,o,n,c,h,m,k,P=()=>e.progress(t(o+(n.startX-n.x)*r)),w=()=>e.closestIndex(!0);typeof InertiaPlugin>"u"&&console.warn("InertiaPlugin required for momentum-based scrolling and snapping. https://greensock.com/club"),n=Draggable.create(M,{trigger:i[0].parentNode,type:"x",dragClickables:!1,onPressInit(){let _=this.x;gsap.killTweensOf(e),k=!e.paused(),e.pause(),o=e.progress(),F(),r=1/S,m=o/-r-_,gsap.set(M,{x:o/-r}),a.curve&&V()},onDrag:P,onThrowUpdate:P,overshootTolerance:0,inertia:!0,dragResistance:.75,snap(_){if(Math.abs(o/-r-this.x)<10)return h+m;let v=-(_*r)*e.duration(),j=C(v),J=u[H(u,j,e.duration())],R=J-j;return Math.abs(R)>e.duration()/2&&(R+=R<0?e.duration():-e.duration()),h=(v+R)/e.duration()/-r,h},onRelease(){w(),n.isThrowing?G=!0:A()},onThrowComplete:()=>{w(),A(),k&&e.play()}})[0],e.draggable=n}return e.closestIndex(!0),l=g,p&&p(i[g],g),E=e,()=>{window.removeEventListener("resize",U),A()}}),E}var B=class{COMPONENT_SELECTOR='[data-gallery-slider-el="component"]';LIST_SELECTOR='[data-gallery-slider-el="list"]';CARD_SELECTOR='[data-gallery-slider-el="card"]';PATH_SELECTOR='[data-gallery-slider-el="path"]';IMAGE_LIST_SELECTOR='[data-gallery-slider-el="image-list"]';DIALOG_IMAGE_LIST_SELECTOR='[data-gallery-slider-el="dialog-image-list"]';DIALOG_IMAGE_CLASSNAME="gallery-slider_dialog_image";DIALOG_IMAGE_PREV_BUTTON_SELECTOR='[data-gallery-slider-el="dialog-image-prev"]';DIALOG_IMAGE_NEXT_BUTTON_SELECTOR='[data-gallery-slider-el="dialog-image-next"]';ACTIVE_CLASSNAME="is-active";WEBFLOW_IMAGE_EMPTY_CLASSNAME="w-dyn-bind-empty";components;constructor(){this.components=document.querySelectorAll(this.COMPONENT_SELECTOR),this.initSliders()}initSliders(){this.components.forEach(async a=>{let E=a.querySelector(this.LIST_SELECTOR),p=Array.from(a.querySelectorAll(this.CARD_SELECTOR));if(!E){console.error("[Gallery Slider] List element not found",a);return}if(p.length===0){console.error("[Gallery Slider] No card elements found",a);return}let l,e=Y(p,{paused:!0,draggable:!0,center:!0,curve:{yPercent:35,rotation:12},onChange:(s,d)=>{l&&l.classList.remove(this.ACTIVE_CLASSNAME),s.classList.add(this.ACTIVE_CLASSNAME),l=s}});p.forEach(s=>{this.populateDialogImageSlider(s),this.setDialogImageSlider(s)})})}populateDialogImageSlider(a){let E=a.querySelector(this.DIALOG_IMAGE_LIST_SELECTOR);if(!E){console.warn("[Gallery Slider] Dialog image list not found",a);return}E.innerHTML="";let p=a.querySelectorAll(`${this.IMAGE_LIST_SELECTOR} img`),l=Array.from(p).filter(e=>e.classList.contains(this.WEBFLOW_IMAGE_EMPTY_CLASSNAME)?(e.remove(),!1):!0);if(l.length===0){console.warn("[Gallery Slider] No images found for dialog slider",a);return}l.forEach((e,s)=>{let d=e.cloneNode(!0);d.className=this.DIALOG_IMAGE_CLASSNAME,E.appendChild(d)})}setDialogImageSlider(a){let E=a.querySelector(this.DIALOG_IMAGE_LIST_SELECTOR);if(!E){console.warn("[Gallery Slider] Dialog image list not found",a);return}let p=Array.from(E.querySelectorAll("img")),l=p.length;if(l===0)return;let e=a.querySelector(this.DIALOG_IMAGE_PREV_BUTTON_SELECTOR),s=a.querySelector(this.DIALOG_IMAGE_NEXT_BUTTON_SELECTOR),d=0,u=f=>{p.forEach((T,L)=>{L===f?gsap.to(T,{autoAlpha:1,duration:.3}):gsap.to(T,{autoAlpha:0,duration:.3})})};u(d),e?.addEventListener("click",()=>{d=(d-1+l)%l,u(d)}),s?.addEventListener("click",()=>{d=(d+1)%l,u(d)})}};window.loadScript("https://cdn.prod.website-files.com/gsap/3.13.0/gsap.min.js",{name:"gsap"});window.Webflow||=[];window.Webflow?.push(()=>{Promise.all([window.loadScript("https://cdn.prod.website-files.com/gsap/3.13.0/MotionPathPlugin.min.js",{name:"gsap-motionpath"}),window.loadScript("https://cdn.prod.website-files.com/gsap/3.13.0/Draggable.min.js",{name:"gsap-draggable"}),window.loadScript("https://cdn.prod.website-files.com/gsap/3.13.0/InertiaPlugin.min.js",{name:"gsap-inertia"})]).then(()=>{new B})});})();
