"use strict";(()=>{function Y(o,s){let x;return o=gsap.utils.toArray(o),s=s||{},gsap.context(()=>{let f=s.onChange,h=0,e=gsap.timeline({repeat:s.repeat,onUpdate:f&&function(){let t=e.closestIndex();h!==t&&(h=t,f(o[t],t))},paused:s.paused,defaults:{ease:"none"},onReverseComplete:()=>e.totalTime(e.rawTime()+e.duration()*100)}),i=o.length,O=o[0].offsetLeft,u=[],g=[],N=[],w=[],l=0,k=!1,E=s.center,C=(s.speed||1)*100,D=s.snap===!1?t=>t:gsap.utils.snap(s.snap||1),B=0,S=E===!0?o[0].parentNode:gsap.utils.toArray(E)[0]||o[0].parentNode,m,J=()=>o[i-1].offsetLeft+w[i-1]/100*g[i-1]-O+N[0]+o[i-1].offsetWidth*gsap.getProperty(o[i-1],"scaleX")+(parseFloat(s.paddingRight)||0),X=()=>{let t=S.getBoundingClientRect(),r;o.forEach((n,a)=>{g[a]=parseFloat(gsap.getProperty(n,"width","px")),w[a]=D(parseFloat(gsap.getProperty(n,"x","px"))/g[a]*100+gsap.getProperty(n,"xPercent")),r=n.getBoundingClientRect(),N[a]=r.left-(a?t.right:t.left),t=r}),gsap.set(o,{xPercent:n=>w[n]}),m=J()},P,j=()=>{B=E?e.duration()*(S.offsetWidth/2)/m:0,E&&u.forEach((t,r)=>{u[r]=P(e.labels["label"+r]+e.duration()*g[r]/2/m-B)})},q=(t,r,n)=>{let a=t.length,p=1e10,c=0,d;for(;a--;)d=Math.abs(t[a]-r),d>n/2&&(d=n-d),d<p&&(p=d,c=a);return c},v=()=>{if(!s.curve)return;let t=s.curve.width||S.offsetWidth,r=s.curve.yPercent||0,n=s.curve.rotation||0,a=S.getBoundingClientRect(),p=a.left+a.width/2;o.forEach(c=>{let d=c.getBoundingClientRect(),R=d.left+d.width/2-p,b=Math.max(-1,Math.min(1,R/(t/2)*.6)),y=r*Math.pow(b,2),A=n*b;gsap.set(c,{yPercent:y,rotation:A})})},F=()=>{let t,r,n,a,p;for(e.clear(),t=0;t<i;t++)r=o[t],n=w[t]/100*g[t],a=r.offsetLeft+n-O+N[0],p=a+g[t]*gsap.getProperty(r,"scaleX"),e.to(r,{xPercent:D((n-p)/g[t]*100),duration:p/C},0).fromTo(r,{xPercent:D((n-p+m)/g[t]*100)},{xPercent:w[t],duration:(n-p+m-n)/C,immediateRender:!1},p/C).add("label"+t,a/C),u[t]=a/C;P=gsap.utils.wrap(0,e.duration())},V=t=>{let r=e.progress();e.progress(0,!0),X(),t&&F(),j(),t&&e.draggable&&e.paused()?e.time(u[l],!0):e.progress(r,!0)},H=()=>V(!0),I;gsap.set(o,{x:0}),X(),F(),j(),window.addEventListener("resize",H);let L=!1,U=()=>{s.curve&&!L&&(L=!0,gsap.ticker.add(v))},T=()=>{s.curve&&L&&(L=!1,gsap.ticker.remove(v),v())};s.curve&&(v(),e.eventCallback("onStart",U),e.eventCallback("onComplete",T),e.eventCallback("onInterrupt",T));function W(t,r){r=r||{},Math.abs(t-l)>i/2&&(t+=t>l?-i:i);let n=gsap.utils.wrap(0,i,t),a=u[n];return a>e.time()!=t>l&&t!==l&&(a+=e.duration()*(t>l?1:-1)),(a<0||a>e.duration())&&(r.modifiers={time:P}),l=n,r.overwrite=!0,gsap.killTweensOf(I),r.duration===0?e.time(P(a)):e.tweenTo(a,r)}if(e.toIndex=(t,r)=>W(t,r),e.closestIndex=t=>{let r=q(u,e.time(),e.duration());return t&&(l=r,k=!1),r},e.current=()=>k?e.closestIndex(!0):l,e.next=t=>W(e.current()+1,t),e.previous=t=>W(e.current()-1,t),e.times=u,e.progress(1,!0).progress(0,!0),s.reversed&&(e.vars.onReverseComplete(),e.reverse()),s.draggable&&typeof Draggable=="function"){I=document.createElement("div");let t=gsap.utils.wrap(0,1),r,n,a,p,c,d,_,R=()=>e.progress(t(n+(a.startX-a.x)*r)),b=()=>e.closestIndex(!0);typeof InertiaPlugin>"u"&&console.warn("InertiaPlugin required for momentum-based scrolling and snapping. https://greensock.com/club"),a=Draggable.create(I,{trigger:o[0].parentNode,type:"x",onPressInit(){let y=this.x;gsap.killTweensOf(e),_=!e.paused(),e.pause(),n=e.progress(),V(),r=1/m,d=n/-r-y,gsap.set(I,{x:n/-r}),s.curve&&U()},onDrag:R,onThrowUpdate:R,overshootTolerance:0,inertia:!0,dragResistance:.75,snap(y){if(Math.abs(n/-r-this.x)<10)return c+d;let A=-(y*r)*e.duration(),G=P(A),K=u[q(u,G,e.duration())],M=K-G;return Math.abs(M)>e.duration()/2&&(M+=M<0?e.duration():-e.duration()),c=(A+M)/e.duration()/-r,c},onRelease(){b(),a.isThrowing?k=!0:T()},onThrowComplete:()=>{b(),T(),_&&e.play()}})[0],e.draggable=a}return e.closestIndex(!0),h=l,f&&f(o[l],l),x=e,()=>{window.removeEventListener("resize",H),T()}}),x}var z=class{COMPONENT_SELECTOR='[data-gallery-slider-el="component"]';LIST_SELECTOR='[data-gallery-slider-el="list"]';CARD_SELECTOR='[data-gallery-slider-el="card"]';PATH_SELECTOR='[data-gallery-slider-el="path"]';ACTIVE_CLASSNAME="is-active";components;carousels;constructor(){this.components=document.querySelectorAll(this.COMPONENT_SELECTOR),this.carousels=new Map,this.initSliders()}initSliders(){this.components.forEach(async s=>{let x=s.querySelector(this.LIST_SELECTOR),f=Array.from(s.querySelectorAll(this.CARD_SELECTOR));if(!x){console.error("[Gallery Slider] List element not found",s);return}if(f.length===0){console.error("[Gallery Slider] No card elements found",s);return}let h,e=Y(f,{paused:!0,draggable:!0,center:!0,curve:{yPercent:35,rotation:12},onChange:(i,O)=>{h&&h.classList.remove(this.ACTIVE_CLASSNAME),i.classList.add(this.ACTIVE_CLASSNAME),h=i}})})}};window.loadScript("https://cdn.prod.website-files.com/gsap/3.13.0/gsap.min.js",{name:"gsap"});window.Webflow||=[];window.Webflow?.push(()=>{Promise.all([window.loadScript("https://cdn.prod.website-files.com/gsap/3.13.0/MotionPathPlugin.min.js",{name:"gsap-motionpath"}),window.loadScript("https://cdn.prod.website-files.com/gsap/3.13.0/Draggable.min.js",{name:"gsap-draggable"}),window.loadScript("https://cdn.prod.website-files.com/gsap/3.13.0/InertiaPlugin.min.js",{name:"gsap-inertia"})]).then(()=>{new z})});})();
