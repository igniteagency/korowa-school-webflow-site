"use strict";(()=>{function Y(s,a){let E;return s=gsap.utils.toArray(s),a=a||{},gsap.context(()=>{let c=a.onChange,d=0,e=gsap.timeline({repeat:a.repeat,onUpdate:c&&function(){let t=e.closestIndex();d!==t&&(d=t,c(s[t],t))},paused:a.paused,defaults:{ease:"none"},onReverseComplete:()=>e.totalTime(e.rawTime()+e.duration()*100)}),i=s.length,h=s[0].offsetLeft,l=[],m=[],I=[],T=[],p=0,D=!1,P=a.center,w=(a.speed||1)*100,G=a.snap===!1?t=>t:gsap.utils.snap(a.snap||1),W=0,x=P===!0?s[0].parentNode:gsap.utils.toArray(P)[0]||s[0].parentNode,C,J=()=>s[i-1].offsetLeft+T[i-1]/100*m[i-1]-h+I[0]+s[i-1].offsetWidth*gsap.getProperty(s[i-1],"scaleX")+(parseFloat(a.paddingRight)||0),q=()=>{let t=x.getBoundingClientRect(),r;s.forEach((n,o)=>{m[o]=parseFloat(gsap.getProperty(n,"width","px")),T[o]=G(parseFloat(gsap.getProperty(n,"x","px"))/m[o]*100+gsap.getProperty(n,"xPercent")),r=n.getBoundingClientRect(),I[o]=r.left-(o?t.right:t.left),t=r}),gsap.set(s,{xPercent:n=>T[n]}),C=J()},L,X=()=>{W=P?e.duration()*(x.offsetWidth/2)/C:0,P&&l.forEach((t,r)=>{l[r]=L(e.labels["label"+r]+e.duration()*m[r]/2/C-W)})},z=(t,r,n)=>{let o=t.length,u=1e10,f=0,g;for(;o--;)g=Math.abs(t[o]-r),g>n/2&&(g=n-g),g<u&&(u=g,f=o);return f},b=()=>{if(!a.curve)return;let t=a.curve.width||x.offsetWidth,r=a.curve.yPercent||0,n=a.curve.rotation||0,o=x.getBoundingClientRect(),u=o.left+o.width/2;s.forEach(f=>{let g=f.getBoundingClientRect(),v=g.left+g.width/2-u,y=Math.max(-1,Math.min(1,v/(t/2)*.6)),A=r*Math.pow(y,2),R=n*y;gsap.set(f,{yPercent:A,rotation:R})})},U=()=>{let t,r,n,o,u;for(e.clear(),t=0;t<i;t++)r=s[t],n=T[t]/100*m[t],o=r.offsetLeft+n-h+I[0],u=o+m[t]*gsap.getProperty(r,"scaleX"),e.to(r,{xPercent:G((n-u)/m[t]*100),duration:u/w},0).fromTo(r,{xPercent:G((n-u+C)/m[t]*100)},{xPercent:T[t],duration:(n-u+C-n)/w,immediateRender:!1},u/w).add("label"+t,o/w),l[t]=o/w;L=gsap.utils.wrap(0,e.duration())},V=t=>{let r=e.progress();e.progress(0,!0),q(),t&&U(),X(),t&&e.draggable&&e.paused()?e.time(l[p],!0):e.progress(r,!0)},H=()=>V(!0),_;gsap.set(s,{x:0}),q(),U(),X(),window.addEventListener("resize",H);let O=!1,j=()=>{a.curve&&!O&&(O=!0,gsap.ticker.add(b))},S=()=>{a.curve&&O&&(O=!1,gsap.ticker.remove(b),b())};a.curve&&(b(),e.eventCallback("onStart",j),e.eventCallback("onComplete",S),e.eventCallback("onInterrupt",S));function N(t,r){r=r||{},Math.abs(t-p)>i/2&&(t+=t>p?-i:i);let n=gsap.utils.wrap(0,i,t),o=l[n];return o>e.time()!=t>p&&t!==p&&(o+=e.duration()*(t>p?1:-1)),(o<0||o>e.duration())&&(r.modifiers={time:L}),p=n,r.overwrite=!0,gsap.killTweensOf(_),r.duration===0?e.time(L(o)):e.tweenTo(o,r)}if(e.toIndex=(t,r)=>N(t,r),e.closestIndex=t=>{let r=z(l,e.time(),e.duration());return t&&(p=r,D=!1),r},e.current=()=>D?e.closestIndex(!0):p,e.next=t=>N(e.current()+1,t),e.previous=t=>N(e.current()-1,t),e.times=l,e.progress(1,!0).progress(0,!0),a.reversed&&(e.vars.onReverseComplete(),e.reverse()),a.draggable&&typeof Draggable=="function"){_=document.createElement("div");let t=gsap.utils.wrap(0,1),r,n,o,u,f,g,k,v=()=>e.progress(t(n+(o.startX-o.x)*r)),y=()=>e.closestIndex(!0);typeof InertiaPlugin>"u"&&console.warn("InertiaPlugin required for momentum-based scrolling and snapping. https://greensock.com/club"),o=Draggable.create(_,{trigger:s[0].parentNode,type:"x",dragClickables:!1,onPressInit(){let A=this.x;gsap.killTweensOf(e),k=!e.paused(),e.pause(),n=e.progress(),V(),r=1/C,g=n/-r-A,gsap.set(_,{x:n/-r}),a.curve&&j()},onDrag:v,onThrowUpdate:v,overshootTolerance:0,inertia:!0,dragResistance:.75,snap(A){if(Math.abs(n/-r-this.x)<10)return f+g;let R=-(A*r)*e.duration(),F=L(R),K=l[z(l,F,e.duration())],M=K-F;return Math.abs(M)>e.duration()/2&&(M+=M<0?e.duration():-e.duration()),f=(R+M)/e.duration()/-r,f},onRelease(){y(),o.isThrowing?D=!0:S()},onThrowComplete:()=>{y(),S(),k&&e.play()}})[0],e.draggable=o}return e.closestIndex(!0),d=p,c&&c(s[p],p),E=e,()=>{window.removeEventListener("resize",H),S()}}),E}var B=class{COMPONENT_SELECTOR='[data-gallery-slider-el="component"]';LIST_SELECTOR='[data-gallery-slider-el="list"]';CARD_SELECTOR='[data-gallery-slider-el="card"]';PATH_SELECTOR='[data-gallery-slider-el="path"]';DIALOG_IMAGE_LIST_SELECTOR='[data-gallery-slider-el="dialog-image-list"]';DIALOG_IMAGE_ITEM_SELECTOR='[data-gallery-slider-el="dialog-image-item"]';DIALOG_IMAGE_PREV_BUTTON_SELECTOR='[data-gallery-slider-el="dialog-image-prev"]';DIALOG_IMAGE_NEXT_BUTTON_SELECTOR='[data-gallery-slider-el="dialog-image-next"]';ACTIVE_CLASSNAME="is-active";components;carousels;constructor(){this.components=document.querySelectorAll(this.COMPONENT_SELECTOR),this.carousels=new Map,this.initSliders()}initSliders(){this.components.forEach(async a=>{let E=a.querySelector(this.LIST_SELECTOR),c=Array.from(a.querySelectorAll(this.CARD_SELECTOR));if(!E){console.error("[Gallery Slider] List element not found",a);return}if(c.length===0){console.error("[Gallery Slider] No card elements found",a);return}let d,e=Y(c,{paused:!0,draggable:!0,center:!0,curve:{yPercent:35,rotation:12},onChange:(i,h)=>{d&&d.classList.remove(this.ACTIVE_CLASSNAME),i.classList.add(this.ACTIVE_CLASSNAME),d=i}});c.forEach(i=>{this.setDialogImageSlider(i)})})}setDialogImageSlider(a){let E=a.querySelector(this.DIALOG_IMAGE_LIST_SELECTOR);if(!E){console.warn("[Gallery Slider] Dialog image list not found",a);return}let c=Array.from(E.querySelectorAll(this.DIALOG_IMAGE_ITEM_SELECTOR)),d=c.length;if(d===0)return;let e=a.querySelector(this.DIALOG_IMAGE_PREV_BUTTON_SELECTOR),i=a.querySelector(this.DIALOG_IMAGE_NEXT_BUTTON_SELECTOR),h=0,l=m=>{c.forEach((I,T)=>{T===m?gsap.to(I,{autoAlpha:1,duration:.3}):gsap.to(I,{autoAlpha:0,duration:.3})})};l(h),e?.addEventListener("click",()=>{h=(h-1+d)%d,l(h)}),i?.addEventListener("click",()=>{h=(h+1)%d,l(h)})}};window.loadScript("https://cdn.prod.website-files.com/gsap/3.13.0/gsap.min.js",{name:"gsap"});window.Webflow||=[];window.Webflow?.push(()=>{Promise.all([window.loadScript("https://cdn.prod.website-files.com/gsap/3.13.0/MotionPathPlugin.min.js",{name:"gsap-motionpath"}),window.loadScript("https://cdn.prod.website-files.com/gsap/3.13.0/Draggable.min.js",{name:"gsap-draggable"}),window.loadScript("https://cdn.prod.website-files.com/gsap/3.13.0/InertiaPlugin.min.js",{name:"gsap-inertia"})]).then(()=>{new B})});})();
