"use strict";(()=>{function Y(l,a){let h;return l=gsap.utils.toArray(l),a=a||{},gsap.context(()=>{let i=a.onChange,d=0,e=gsap.timeline({repeat:a.repeat,onUpdate:i&&function(){let t=e.closestIndex();d!==t&&(d=t,i(l[t],t))},paused:a.paused,defaults:{ease:"none"},onReverseComplete:()=>e.totalTime(e.rawTime()+e.duration()*100)}),s=l.length,m=l[0].offsetLeft,p=[],f=[],S=[],T=[],g=0,D=!1,_=a.center,L=(a.speed||1)*100,G=a.snap===!1?t=>t:gsap.utils.snap(a.snap||1),q=0,x=_===!0?l[0].parentNode:gsap.utils.toArray(_)[0]||l[0].parentNode,I,$=()=>l[s-1].offsetLeft+T[s-1]/100*f[s-1]-m+S[0]+l[s-1].offsetWidth*gsap.getProperty(l[s-1],"scaleX")+(parseFloat(a.paddingRight)||0),W=()=>{let t=x.getBoundingClientRect(),r;l.forEach((n,o)=>{f[o]=parseFloat(gsap.getProperty(n,"width","px")),T[o]=G(parseFloat(gsap.getProperty(n,"x","px"))/f[o]*100+gsap.getProperty(n,"xPercent")),r=n.getBoundingClientRect(),S[o]=r.left-(o?t.right:t.left),t=r}),gsap.set(l,{xPercent:n=>T[n]}),I=$()},C,X=()=>{q=_?e.duration()*(x.offsetWidth/2)/I:0,_&&p.forEach((t,r)=>{p[r]=C(e.labels["label"+r]+e.duration()*f[r]/2/I-q)})},z=(t,r,n)=>{let o=t.length,u=1e10,E=0,c;for(;o--;)c=Math.abs(t[o]-r),c>n/2&&(c=n-c),c<u&&(u=c,E=o);return E},O=()=>{if(!a.curve)return;let t=a.curve.width||x.offsetWidth,r=a.curve.yPercent||0,n=a.curve.rotation||0,o=x.getBoundingClientRect(),u=o.left+o.width/2;l.forEach(E=>{let c=E.getBoundingClientRect(),v=c.left+c.width/2-u,A=Math.max(-1,Math.min(1,v/(t/2)*.6)),y=r*Math.pow(A,2),R=n*A;gsap.set(E,{yPercent:y,rotation:R})})},H=()=>{let t,r,n,o,u;for(e.clear(),t=0;t<s;t++)r=l[t],n=T[t]/100*f[t],o=r.offsetLeft+n-m+S[0],u=o+f[t]*gsap.getProperty(r,"scaleX"),e.to(r,{xPercent:G((n-u)/f[t]*100),duration:u/L},0).fromTo(r,{xPercent:G((n-u+I)/f[t]*100)},{xPercent:T[t],duration:(n-u+I-n)/L,immediateRender:!1},u/L).add("label"+t,o/L),p[t]=o/L;C=gsap.utils.wrap(0,e.duration())},U=t=>{let r=e.progress();e.progress(0,!0),W(),t&&H(),X(),t&&e.draggable&&e.paused()?e.time(p[g],!0):e.progress(r,!0)},V=()=>U(!0),b;gsap.set(l,{x:0}),W(),H(),X(),window.addEventListener("resize",V);let P=!1,j=()=>{a.curve&&!P&&(P=!0,gsap.ticker.add(O))},w=()=>{a.curve&&P&&(P=!1,gsap.ticker.remove(O),O())};a.curve&&(O(),e.eventCallback("onStart",j),e.eventCallback("onComplete",w),e.eventCallback("onInterrupt",w));function N(t,r){r=r||{},Math.abs(t-g)>s/2&&(t+=t>g?-s:s);let n=gsap.utils.wrap(0,s,t),o=p[n];return o>e.time()!=t>g&&t!==g&&(o+=e.duration()*(t>g?1:-1)),(o<0||o>e.duration())&&(r.modifiers={time:C}),g=n,r.overwrite=!0,gsap.killTweensOf(b),r.duration===0?e.time(C(o)):e.tweenTo(o,r)}if(e.toIndex=(t,r)=>N(t,r),e.closestIndex=t=>{let r=z(p,e.time(),e.duration());return t&&(g=r,D=!1),r},e.current=()=>D?e.closestIndex(!0):g,e.next=t=>N(e.current()+1,t),e.previous=t=>N(e.current()-1,t),e.times=p,e.progress(1,!0).progress(0,!0),a.reversed&&(e.vars.onReverseComplete(),e.reverse()),a.draggable&&typeof Draggable=="function"){b=document.createElement("div");let t=gsap.utils.wrap(0,1),r,n,o,u,E,c,k,v=()=>e.progress(t(n+(o.startX-o.x)*r)),A=()=>e.closestIndex(!0);typeof InertiaPlugin>"u"&&console.warn("InertiaPlugin required for momentum-based scrolling and snapping. https://greensock.com/club"),o=Draggable.create(b,{trigger:l[0].parentNode,type:"x",dragClickables:!1,onPressInit(){let y=this.x;gsap.killTweensOf(e),k=!e.paused(),e.pause(),n=e.progress(),U(),r=1/I,c=n/-r-y,gsap.set(b,{x:n/-r}),a.curve&&j()},onDrag:v,onThrowUpdate:v,overshootTolerance:0,inertia:!0,dragResistance:.75,snap(y){if(Math.abs(n/-r-this.x)<10)return E+c;let R=-(y*r)*e.duration(),F=C(R),J=p[z(p,F,e.duration())],M=J-F;return Math.abs(M)>e.duration()/2&&(M+=M<0?e.duration():-e.duration()),E=(R+M)/e.duration()/-r,E},onRelease(){A(),o.isThrowing?D=!0:w()},onThrowComplete:()=>{A(),w(),k&&e.play()}})[0],e.draggable=o}return e.closestIndex(!0),d=g,i&&i(l[g],g),h=e,()=>{window.removeEventListener("resize",V),w()}}),h}var B=class{COMPONENT_SELECTOR='[data-gallery-slider-el="component"]';LIST_SELECTOR='[data-gallery-slider-el="list"]';CARD_SELECTOR='[data-gallery-slider-el="card"]';PATH_SELECTOR='[data-gallery-slider-el="path"]';IMAGE_LIST_SELECTOR='[data-gallery-slider-el="image-list"]';DIALOG_IMAGE_LIST_SELECTOR='[data-gallery-slider-el="dialog-image-list"]';DIALOG_IMAGE_CLASSNAME="gallery-slider_dialog_image";DIALOG_IMAGE_PREV_BUTTON_SELECTOR='[data-gallery-slider-el="dialog-image-prev"]';DIALOG_IMAGE_NEXT_BUTTON_SELECTOR='[data-gallery-slider-el="dialog-image-next"]';ACTIVE_CLASSNAME="is-active";components;constructor(){this.components=document.querySelectorAll(this.COMPONENT_SELECTOR),this.initSliders()}initSliders(){this.components.forEach(async a=>{let h=a.querySelector(this.LIST_SELECTOR),i=Array.from(a.querySelectorAll(this.CARD_SELECTOR));if(!h){console.error("[Gallery Slider] List element not found",a);return}if(i.length===0){console.error("[Gallery Slider] No card elements found",a);return}let d,e=Y(i,{paused:!0,draggable:!0,center:!0,curve:{yPercent:35,rotation:12},onChange:(s,m)=>{d&&d.classList.remove(this.ACTIVE_CLASSNAME),s.classList.add(this.ACTIVE_CLASSNAME),d=s}});i.forEach(s=>{this.populateDialogImageSlider(s),this.setDialogImageSlider(s)})})}populateDialogImageSlider(a){let h=a.querySelector(this.DIALOG_IMAGE_LIST_SELECTOR);if(!h){console.warn("[Gallery Slider] Dialog image list not found",a);return}let i=a.querySelectorAll(`${this.IMAGE_LIST_SELECTOR} img`);if(i.length===0){console.warn("[Gallery Slider] No images found for dialog slider",a);return}i.forEach((d,e)=>{let s=d.cloneNode(!0);s.className=this.DIALOG_IMAGE_CLASSNAME,h.appendChild(s)})}setDialogImageSlider(a){let h=a.querySelector(this.DIALOG_IMAGE_LIST_SELECTOR);if(!h){console.warn("[Gallery Slider] Dialog image list not found",a);return}let i=Array.from(h.querySelectorAll("img")),d=i.length;if(d===0)return;let e=a.querySelector(this.DIALOG_IMAGE_PREV_BUTTON_SELECTOR),s=a.querySelector(this.DIALOG_IMAGE_NEXT_BUTTON_SELECTOR),m=0,p=f=>{i.forEach((S,T)=>{T===f?gsap.to(S,{autoAlpha:1,duration:.3}):gsap.to(S,{autoAlpha:0,duration:.3})})};p(m),e?.addEventListener("click",()=>{m=(m-1+d)%d,p(m)}),s?.addEventListener("click",()=>{m=(m+1)%d,p(m)})}};window.loadScript("https://cdn.prod.website-files.com/gsap/3.13.0/gsap.min.js",{name:"gsap"});window.Webflow||=[];window.Webflow?.push(()=>{Promise.all([window.loadScript("https://cdn.prod.website-files.com/gsap/3.13.0/MotionPathPlugin.min.js",{name:"gsap-motionpath"}),window.loadScript("https://cdn.prod.website-files.com/gsap/3.13.0/Draggable.min.js",{name:"gsap-draggable"}),window.loadScript("https://cdn.prod.website-files.com/gsap/3.13.0/InertiaPlugin.min.js",{name:"gsap-inertia"})]).then(()=>{new B})});})();
